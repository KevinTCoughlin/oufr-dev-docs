[![Build Status](https://dev.azure.com/uifabric/fabricpublic/_apis/build/status/OUFR-dev-docs%20Update?branchName=master)](https://dev.azure.com/uifabric/fabricpublic/_build/latest?definitionId=107&branchName=master)

[![Release Status](https://vsrm.dev.azure.com/uifabric/_apis/public/Release/badge/cd9e4e13-b8db-429a-9c21-499bf1c98639/1/1)](https://dev.azure.com/uifabric/fabricpublic/_release?view=all&definitionId=1)

## Microsoft Open Source Code of Conduct

This project has adopted the [Microsoft Open Source Code of Conduct](https://opensource.microsoft.com/codeofconduct/).
For more information see the [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) or contact [opencode@microsoft.com](mailto:opencode@microsoft.com) with any additional questions or comments.

<hr>

# oufr-dev-docs - [Fabric](https://github.com/OfficeDev/office-ui-fabric-react) docs repository

This repository is setup in a way so that the business logic of generating the documentation files is separated from the actually generated files for the purpose of keeping a clean git history and relative to the changes that will occur daily for the docs part and only occasionally for the implementation code part. This is achieved by keeping these two concerns on different branches. `master` branch holds all the business logic and `staging` with `live` branches are auto updated in parallel by a [scheduled pipeline](https://github.com/MicrosoftDocs/oufr-dev-docs/blob/master/config/azure-pipelines/update-docs.yaml) with the files generated by using the code on the master branch.

In order to make changes to the files generation logic, first step is to setup the environment

### Local development setup

1. Clone the repo using the following command.

   ```
   git clone https://github.com/MicrosoftDocs/oufr-dev-docs.git
   ```

2. Install the main dependencies for the project to run.

   ```
   npm install
   ```

3. Install the latest versions of `office-ui-fabric-react` and `@uifabric/fabric-website`.  
   Note: this are not part of main dependency install run because we want the latest versions in the pipeline to generate most up to date docs. DO NOT COMMIT the changes in this step done to `package.json` and `package-lock.json` files.

   ```
   npm run install-deps
   ```

4. Run the initial build command which is necessary for the next step.

   ```
   npm run build
   ```

5. Following step needs to be run only once when starting local developer work. This will download all `api.json` files and save them in the `input` folder that is not tracked by git so it does not need to be committed during development.
   ```
   npm run download-api-files
   ```

### Local development flow

After running these steps you are ready to go and make changes with the business logic and run only one command (with one exception described below) every time when you want to verify your changes:

```
npm run local
```

**_Exception:_** in case you make changes to the logic of downloading the `api.json` files located [here](https://github.com/MicrosoftDocs/oufr-dev-docs/blob/master/src/downloadApiFiles.ts) you will need to rerun steps 4 and 5 from the setup above and then `npm run local`.
